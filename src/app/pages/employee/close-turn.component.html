<div class="row justify-content-center mx-0">
    <div class="col-12 col-lg-6">
        <div class="card mt-5">
            <div class="card-header d-flex align-items-center">
                <i class="fa-solid fa-file-invoice-dollar fa-3x"></i>
                <p class="display-4 ml-3">FACTURACIÓN</p>
            </div>
            <div class="card-body">
                <button class="btn btn-lg btn-block btn-info mb-2" (click)="newInvoice()">Nueva Factura</button>
            </div>
        </div>
    </div>
    <div class="col-12">
        <div class=" card">
            <div class="px-4 card-header d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                    <i class="fa-solid fa-list-check fa-3x"></i>
                    <div class="ml-3">
                        <p class=" display-4 text-uppercase">Cierre de turno</p>
                        <p class="h4 mb-1 font-weight-light">{{employee.uname}}</p>
                    </div>
                </div>
                <div class="h3 mb-1 text-muted font-italic font-weight-lighter">Turno {{turn.name}}</div>
            </div>
            <div class="card-body">
                <ngb-accordion [closeOthers]="true" activeIds="">
                    <ngb-panel id="pumps">
                        <ng-template ngbPanelTitle>
                            <div *ngIf="!isLoading" class="d-flex align-items-center">
                                <div>
                                    <i class="fa-2x" [ngClass]="{'fa-square fa-regular':tempData.pumps.done!=pumps.length,'fa-square-check fa-solid text-muted':tempData.pumps.done==pumps.length}"></i>
                                </div>
                                <div class="mx-3">
                                    <p class="text-dark title" [ngClass]="{'text-through text-muted':tempData.pumps.done==pumps.length}">
                                        Surtidores</p>
                                    <p class=" text-muted">
                                        {{tempData.pumps.done}}/{{isLoading?'-':pumps.length}}
                                    </p>
                                </div>
                                <div class="mx-5">
                                    <p class="text-muted m-0" style="font-size: larger;">
                                        {{tempData.pumps.accumulated|currency:'ARS'}}</p>
                                </div>
                                <div class="mx-3">
                                    <p class="text-muted m-0" style="font-size: larger;">
                                        {{tempData.pumps.m3| number:'1.2-2'}} <small>[m3]</small> </p>
                                </div>
                            </div>
                        </ng-template>
                        <ng-template ngbPanelContent>
                            <div class="table-responsive">
                                <table class=" table table-fix-head nw-table" id="">
                                    <thead class="thead-dark text-primary">
                                        <tr>
                                            <th class="col-1 col-lg-1 text-center">#</th>
                                            <th class="col-1 d-none d-lg-table-cell">Tipo</th>
                                            <th class="col-2 d-none d-lg-table-cell">Descripcion</th>
                                            <th class="col-2 col-lg-3 text-center">Lectura Inicial</th>
                                            <th class="col-2 col-lg-3 text-center">Lectura Final</th>
                                            <th class="col-1 col-lg-1 text-center">Venteo</th>
                                            <th class="col-1 text-center d-none d-lg-table-cell">Vendido</th>
                                            <th class="col-1 d-none d-lg-table-cell text-center">Precio Unitario</th>
                                            <th class="col-1 col-lg-4 text-center">Importe</th>
                                        </tr>
                                    </thead>
                                    <tbody *ngIf="!isLoading">
                                        <tr *ngFor="let item of pumps; index as i" [ngClass]="{'table-danger':item.validated===false,'table-success':item.validated===true}">
                                            <td class="text-center">{{item.id}}
                                            </td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell set-max-width" style="--mw:90px;">
                                                {{getTypebyId(item.type_id).name}}</td>
                                            <td class="d-none d-lg-table-cell set-max-width" [ngClass]="{'scrolling-text':innerItem.offsetWidth>outerItem.clientWidth}" style="--mw:150px" #outerItem>
                                                <span #innerItem>{{!item.description?'-':item.description}}</span> </td>
                                            <td class=" text-center">
                                                {{item.meter}}<small>[{{!item.type_id?'-':getTypebyId(item.type_id).unit}}]</small>
                                            </td>
                                            <td>
                                                <input [(ngModel)]="item.meter_end" inputmode="numeric" type="number" min="0" class="form-control" (blur)="(item.meter_end<item.meter&&item.meter_end!=null)?showModal(confirmModal,i):''" (input)="calcMeterDiff(i);refreshDonePumps()">
                                            </td>
                                            <td>
                                                <input [(ngModel)]="item.venting" inputmode="numeric" type="number" min="0" class="form-control" (input)="calcMeterDiff(i);refreshDonePumps()">
                                            </td>
                                            <td class="text-center d-none d-lg-table-cell">
                                                <strong>{{item.meter_diff| number:'1.2-2'}}</strong><small>[{{!item.type_id?'-':getTypebyId(item.type_id).unit}}]</small>
                                            </td>

                                            <td class="d-none d-lg-table-cell text-center">
                                                {{item.unit_price|currency:'ARS'}}
                                            </td>
                                            <td class=" text-center">
                                                {{(item.unit_price*item.meter_diff)|currency:'ARS'}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </ng-template>
                    </ngb-panel>
                    <ngb-panel id="gral_meter">
                        <ng-template ngbPanelTitle>
                            <div *ngIf="!isLoading" class="d-flex align-items-center">
                                <div>
                                    <i class="fa-2x" [ngClass]="{'fa-square fa-regular':!gralMeter.validated,'fa-square-check fa-solid text-muted':gralMeter.validated===true}"></i>
                                </div>
                                <div class="mx-3">
                                    <p class="text-dark title" [ngClass]="{'text-through text-muted':gralMeter.validated===true}">
                                        Medidor General</p>
                                    <p class=" text-muted">
                                        {{gralMeter.validated?1:0}}/1
                                    </p>
                                </div>
                            </div>
                        </ng-template>
                        <ng-template ngbPanelContent>
                            <div class="table-responsive">
                                <table class=" table table-fix-head" id="">
                                    <thead class="thead-dark text-primary">
                                        <tr>
                                            <th class="text-center">#</th>
                                            <th class="d-none d-lg-table-cell">Descripcion</th>
                                            <th class="text-center">Lectura Inicial</th>
                                            <th class="text-center">Lectura Final</th>
                                            <th class="text-center">Consumido</th>
                                        </tr>
                                    </thead>
                                    <tbody *ngIf="!isLoading">
                                        <tr [ngClass]="{'table-danger':gralMeter.validated===false,'table-success':gralMeter.validated===true}">
                                            <td>GRAL</td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell">Medidor General</td>
                                            <td class="text-center">{{gralMeter.accumulated}}</td>
                                            <td><input [(ngModel)]="gralMeter.meter_end" inputmode="numeric" type="number" min="0" class="form-control" (input)="gralMeter.meter_diff= +gralMeter.meter_end >= +gralMeter.accumulated ? (+gralMeter.meter_end - +gralMeter.accumulated): gralMeter.meter_end!=null? 'Contador Reiniciado' : '' ;gralMeter.validated=(gralMeter.meter_end!=null);storeTempGral()">
                                            </td>
                                            <td class="text-center"> <span *ngIf="+gralMeter.meter_end < +gralMeter.accumulated && gralMeter.meter_end!=null "><i class="fa-solid fa-triangle-exclamation text-warning"></i></span> {{gralMeter.meter_diff}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </ng-template>
                    </ngb-panel>
                    <ngb-panel id="products">
                        <ng-template ngbPanelTitle>
                            <div *ngIf="!isLoading" class="d-flex align-items-center">
                                <div>
                                    <i class="fa-2x" [ngClass]="{'fa-square fa-regular':tempData.products.done!=(products|validProducts).length,'fa-square-check fa-solid text-muted':tempData.products.done==(products|validProducts).length}"></i>
                                </div>
                                <div class="mx-3">
                                    <p class="text-dark title" [ngClass]="{'text-through text-muted':tempData.products.done==(products|validProducts).length}">
                                        Productos</p>
                                    <p class=" text-muted">
                                        {{tempData.products.done}}/{{isLoading?'-':(products|validProducts).length}}
                                    </p>
                                </div>
                                <div class="mx-5">
                                    <p class="text-muted m-0" style="font-size: larger;">
                                        {{tempData.products.accumulated|currency:'ARS'}}</p>
                                </div>
                            </div>
                        </ng-template>
                        <ng-template ngbPanelContent>
                            <div class="table-responsive">
                                <table class=" table table-fix-head nw-table" id="">
                                    <thead class="thead-dark text-primary">
                                        <tr>
                                            <th class="col-4">Nombre</th>
                                            <th class="col-1 text-center">Stock inicial</th>
                                            <th class="col-1 text-center">Vendidos</th>
                                            <th class="col-1 text-center">Recarga</th>
                                            <th class="col-1 text-center">Stock Final</th>
                                            <th class="col-2 d-none d-lg-table-cell text-center">Precio Unitario</th>
                                            <th class="col-2 text-center">Importe</th>
                                        </tr>
                                    </thead>
                                    <tbody *ngIf="!isLoading">
                                        <tr *ngFor="let item of products|validProducts" [ngClass]="{'table-danger':item.validated===false,'table-success':item.validated===true}">
                                            <td [ngClass]="{'scrolling-text':innerItem.offsetWidth>outerItem.clientWidth}" class="set-max-width" style="--mw:200px" #outerItem> <span #innerItem>{{item.name}}</span>
                                            </td>
                                            <td class=" text-center">{{item.stock}}</td>
                                            <td>
                                                <input [(ngModel)]="item.items_sold" inputmode="numeric" type="number" min="0" class="form-control" (input)="item.validated=item.stock-item.items_sold+item.items_replacement==item.end_stock && item.items_sold!=null && item.items_replacement!=null && item.end_stock!=null;refreshDoneProducts()">
                                            </td>
                                            <td>
                                                <input [(ngModel)]="item.items_replacement" inputmode="numeric" type="number" min="0" class="form-control" (input)="item.validated=item.stock-item.items_sold+item.items_replacement==item.end_stock && item.items_sold!=null && item.items_replacement!=null && item.end_stock!=null;refreshDoneProducts()">
                                            </td>
                                            <td>
                                                <input [(ngModel)]="item.end_stock" inputmode="numeric" type="number" min="0" class="form-control" (input)="item.validated=item.stock-item.items_sold+item.items_replacement==item.end_stock && item.items_sold!=null && item.items_replacement!=null && item.end_stock!=null;refreshDoneProducts()">
                                            </td>
                                            <td class="d-none d-lg-table-cell text-center">
                                                {{item.unit_price|currency:'ARS'}}
                                            </td>
                                            <td class=" text-center">
                                                {{(item.unit_price*item.items_sold)|currency:'ARS'}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </ng-template>
                    </ngb-panel>
                    <ngb-panel id="accounts">
                        <ng-template ngbPanelTitle>
                            <div *ngIf="!isLoading" class="d-flex align-items-center">
                                <div>
                                    <i class="fa-2x" [ngClass]="{'fa-square fa-regular':tempData.acc.done!=8,'fa-square-check fa-solid text-muted':tempData.acc.done==8}"></i>
                                </div>
                                <div class="mx-3">
                                    <p class="text-dark title" [ngClass]="{'text-through text-muted':tempData.acc.done==8}">
                                        Rendición</p>
                                    <p class=" text-muted">
                                        {{tempData.acc.done}}/8
                                    </p>
                                </div>
                                <div class="mx-5">
                                    <p class="text-muted m-0" style="font-size: larger;">
                                        {{tempData.acc.accumulated|currency:'ARS'}}</p>
                                </div>
                            </div>
                        </ng-template>
                        <ng-template ngbPanelContent>
                            <div class="table-responsive">
                                <table class=" table table-fix-head" id="">
                                    <thead class="thead-dark text-primary">
                                        <tr>
                                            <th>Tipo</th>
                                            <th class="d-none d-lg-table-cell">Descripcion</th>
                                            <th>Monto</th>
                                        </tr>
                                    </thead>
                                    <tbody *ngIf="!isLoading">
                                        <tr [ngClass]="{'table-danger':(acc.n_envelopes_v&&acc.envelopes_cash_v)===false,'table-success':(acc.n_envelopes_v&&acc.envelopes_cash_v)===true}">
                                            <td>Sobres</td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell" style="--mw:150px;">Nº de sobres/Total entregado</td>
                                            <td>
                                                <div class="row justify-content-center">
                                                    <input [(ngModel)]="acc.n_envelopes" inputmode="numeric" type="number" min="0" class="form-control col-3" (input)="acc.n_envelopes_v=acc.n_envelopes>=0 && acc.n_envelopes!=null;accDoneUpdate()" placeholder="NºSobres">
                                                    <input [(ngModel)]="acc.envelopes_cash" inputmode="numeric" type="number" min="0" class="form-control col-8" (input)="acc.envelopes_cash_v=acc.envelopes_cash>=0 && acc.envelopes_cash!=null;accDoneUpdate()" placeholder="$">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr [ngClass]="{'table-danger':acc.cash_v===false,'table-success':acc.cash_v===true}">
                                            <td>Efectivo</td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell" style="--mw:150px;">
                                                Dinero en efectivo
                                            </td>
                                            <td><input [(ngModel)]="acc.cash" inputmode="numeric" type="number" min="0" class="form-control" (input)="acc.cash_v=acc.cash>=0 && acc.cash!=null;accDoneUpdate()">
                                            </td>
                                        </tr>
                                        <tr [ngClass]="{'table-danger':acc.vouchers_v===false,'table-success':acc.vouchers_v===true}">
                                            <td>Vales</td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell" style="--mw:150px;">
                                                Vales entregados
                                            </td>
                                            <td><input [(ngModel)]="acc.vouchers" inputmode="numeric" type="number" min="0" class="form-control" (input)="acc.vouchers_v=acc.vouchers>=0 && acc.vouchers!=null;accDoneUpdate()">
                                            </td>
                                        </tr>
                                        <tr [ngClass]="{'table-danger':acc.cards_v===false,'table-success':acc.cards_v===true}">
                                            <td>Tarjetas</td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell" style="--mw:150px;">
                                                Crédito/Débito</td>
                                            <td><input [(ngModel)]="acc.cards" inputmode="numeric" type="number" min="0" class="form-control" (input)="acc.cards_v=acc.cards>=0 && acc.cards!=null;accDoneUpdate()">
                                            </td>
                                        </tr>
                                        <tr [ngClass]="{'table-danger':acc.expenses_v===false,'table-success':acc.expenses_v===true}">
                                            <td>Gastos</td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell" style="--mw:150px;">
                                                Retiros
                                            </td>
                                            <td><input [(ngModel)]="acc.expenses" inputmode="numeric" type="number" min="0" class="form-control" (input)="acc.expenses_v=acc.expenses>=0 && acc.expenses!=null;accDoneUpdate()">
                                            </td>
                                        </tr>
                                        <tr [ngClass]="{'table-danger':acc.MercadoPago_v===false,'table-success':acc.MercadoPago_v===true}">
                                            <td>MPago</td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell" style="--mw:150px;">
                                                MercadoPago
                                            </td>
                                            <td><input [(ngModel)]="acc.MercadoPago" inputmode="numeric" type="number" min="0" class="form-control" (input)="acc.MercadoPago_v=acc.MercadoPago>=0 && acc.MercadoPago!=null;accDoneUpdate()">
                                            </td>
                                        </tr>
                                        <tr [ngClass]="{'table-danger':acc.others_v===false,'table-success':acc.others_v===true}">
                                            <td>Otros</td>
                                            <td class="cell-ellipsis d-none d-lg-table-cell" style="--mw:150px;">
                                                Ingreso
                                            </td>
                                            <td><input [(ngModel)]="acc.others" inputmode="numeric" type="number" min="0" class="form-control" (input)="acc.others_v=acc.others>=0 && acc.others!=null;accDoneUpdate()">
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </ng-template>
                    </ngb-panel>
                </ngb-accordion>
            </div>
            <div *ngIf="!isLoading; else spinnerBlock" class="py-3 px-4">
                <p class="font-weight-light">Progreso:</p>
                <p>
                    <ngb-progressbar type="light" textType="dark" [value]="(tempData.products.done+tempData.pumps.done+(gralMeter.validated?1:0)+tempData.acc.done)*100/((products|validProducts).length+pumps.length+1+8)" [showValue]="true" height="2em">
                    </ngb-progressbar>
                </p>
            </div>
            <div class="p-4">
                <p class="display-4 text-uppercase text-center text-md-left">Resultado del turno</p>
                <div *ngIf="!isLoading" class="mt-3 row align-items-center justify-content-center text-center" style="font-size: 1.5em;">
                    <div class="col-xl-3 col-md-5 flex-column ">
                        <p class="font-weight-light text-muted mb-0">Rendición</p>
                        <p class="font-weight-light" style="font-size: 1.7em;">
                            {{tempData.acc.accumulated|currency:'ARS'}}</p>
                    </div>

                    <div class="col-xl-1 col-md-2">
                        <p class="font-weight-bold" style="font-size: 1.7em;">-</p>
                    </div>
                    <div class="col-xl-3 col-md-5 flex-column">
                        <p class="font-weight-light text-muted mb-0">Ventas</p>
                        <p class="font-weight-light" style="font-size: 1.7em;">
                            {{tempData.products.accumulated+tempData.pumps.accumulated|currency:'ARS'}}</p>
                    </div>

                    <div class="col-md-1">
                        <p class="font-weight-bold" style="font-size: 1.7em;">=</p>
                    </div>
                    <div class="col-xl-3 col-md-5 flex-column">
                        <p class="font-weight-light text-muted mb-0">Diferencia <span class="text-success">S</span>/<span class="text-danger">F</span></p>
                        <p class="font-weight-bold" [ngClass]="{'text-success':tempData.acc.accumulated-(tempData.pumps.accumulated+tempData.products.accumulated)>0,'text-danger':tempData.acc.accumulated-(tempData.pumps.accumulated+tempData.products.accumulated)<0}" style="font-size: 1.7em;">
                            {{tempData.acc.accumulated-(tempData.products.accumulated+tempData.pumps.accumulated)|currency:'ARS'}}</p>
                    </div>
                </div>
            </div>
            <div class="align-items-center px-4">
                <div class="form-group px-3">
                    <label class="font-weight-light" style="font-size: 1em;" for="obs">Observaciones:</label>
                    <textarea #observation id="obs" style="min-height: 7.8em;" class="form-control" placeholder="**Opcional&#10;Ej:Error en stock de producto, diferencias de precio mal actualizado, error de sistema, etc"></textarea>
                </div>
            </div>
            <div *ngIf="!isLoading" class="align-items-center justify-content-center d-flex px-4">
                <form>
                    <div class="input-group input-group-lg">
                        <div class="input-group-prepend">
                            <span style="position: relative !important;top: 0px !important;left: 0px !important;" [ngClass]="{'border-warning':saveButt.disabled}" class="input-group-text" id="helper">Ayudante</span>
                        </div>
                        <select [(ngModel)]="helperSelected" [ngClass]="{'is-invalid':saveButt.disabled}" name="uuid" id="employeeUuid" class="form-control text-center">
                            <option [ngValue]="null">-</option>
                            <option [ngValue]="item" *ngFor="let item of helpers">{{item.uname}}</option>
                        </select>
                    </div>
                    <div class="input-group input-group-lg">
                        <div class="input-group-prepend">
                            <span style="position: relative !important;top: 0px !important;left: 0px !important;" [ngClass]="{'border-warning':saveButt.disabled}" class="input-group-text" id="pininp">Pin de {{employee.uname}}</span>
                        </div>
                        <input [ngClass]="{'is-invalid':saveButt.disabled}" #employeePass type="password" class="form-control text-center" placeholder="----" (input)="saveDisabled(employeePass.value)" required>
                        <div class="invalid-tooltip">
                            {{saveDisabled('asdf')?'Planilla incompleta':'Ingrese pin'}}
                        </div>
                    </div>
                    <button #saveButt type="button" class="btn btn-lg btn-block text-dark btn-warning mb-2" (click)="storeClosingShift(observation.value,employeePass.value,closingProgressModal)" [disabled]="saveDisabled(employeePass.value)&&!saving">
                        <span [ngClass]="{'d-none':!saving}">
                            <div class="sk-chase" style="font-size: 1.5em;margin-left: -1.5em;">
                                <div class="sk-chase-dot"></div>
                                <div class="sk-chase-dot"></div>
                                <div class="sk-chase-dot"></div>
                                <div class="sk-chase-dot"></div>
                                <div class="sk-chase-dot"></div>
                                <div class="sk-chase-dot"></div>
                            </div>
                        </span>{{saving?null:'Guardar y cerrar turno'}}</button>
                </form>
            </div>
        </div>
    </div>
</div>

<ng-template #spinnerBlock>
    <div class="row py-5">
        <div class="col d-flex align-items-center justify-content-center">
            <div class="sk-chase" style="font-size: 5em;">
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
                <div class="sk-chase-dot"></div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #elseBlock>

</ng-template>

<ng-template #closingProgressModal let-modal>
    <div class="modal-header justify-content-center pb-2">
        <h3 class="modal-title">Cierre de turno</h3>
    </div>
    <div [ngSwitch]="serverResponse.error" class="modal-body text-center">
        <div *ngSwitchCase="1" class="d-flex flex-row">
            <i class="fa-solid fa-xmark text-danger fa-3x mr-3"></i>
            <div>
                <p class="text-light">
                    Ocurrió un error: {{serverResponse.msg}}
                </p><a class="font-weight-bold" href="javascript:void(0)" (click)="modal.dismiss()">Volver a planilla</a>
            </div>
        </div>
        <div *ngSwitchCase="0" class="d-flex flex-row">
            <i class="fa-solid fa-check text-success fa-3x mr-3"></i>

            <p class="text-light">
                {{serverResponse.msg}}
            </p>
        </div>
        <div *ngSwitchCase="2" class="d-flex flex-row">
            <i class="fa-solid fa-check text-success fa-3x mr-3"></i>

            <p class="text-light">
                {{serverResponse.msg}} <small>Ocurrió un error? Revise conexión de su impresora térmica e intente <a class="font-weight-bold" href="javascript:void(0)" (click)="print()">reimprimir comprobante</a></small>
            </p>
        </div>
        <div *ngSwitchCase="3" class="d-flex flex-row">
            <i class="fa-solid fa-xmark text-danger fa-3x mr-3"></i>
            <div>
                <p class="text-light">{{serverResponse.msg}}
                </p><a class="font-weight-bold" href="javascript:void(0)" (click)="print()">Reintentar impresión de comprobante</a>
            </div>
        </div>
        <div *ngSwitchDefault class="d-flex flex-row">
            <div class="mr-4 my-2">
                <div class="sk-chase" style="font-size: 2em;">
                    <div class="sk-chase-dot"></div>
                    <div class="sk-chase-dot"></div>
                    <div class="sk-chase-dot"></div>
                    <div class="sk-chase-dot"></div>
                    <div class="sk-chase-dot"></div>
                    <div class="sk-chase-dot"></div>
                </div>
            </div>
            <p class="text-light">
                {{serverResponse.msg}} Por favor <strong>espere</strong>...
            </p>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-success text-dark" (click)="continueButton()" [disabled]="serverResponse.error<2">Continuar</button>
    </div>
</ng-template>

<ng-template #confirmModal let-modal>
    <div class="modal-header justify-content-center">
        <h3 class="modal-title">¿Reinicio de contador?</h3>
    </div>
    <div class="modal-body text-center">
        <div class="d-flex flex-row">
            <i class="fa-solid fa-triangle-exclamation text-warning fa-3x"></i>
            <p class="text-light">
                Si el contador del surtidor ha completado una vuelta haga click en <strong class="text-danger">SI</strong>
            </p>
        </div>

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger btn-simple" (click)="modal.close('SI')">SI</button>
        <button type="button" class="btn btn-warning btn-simple" (click)="modal.dismiss('NO')">NO</button>
    </div>
</ng-template>